
\input opmac
\def\codetexSpace #1 {
	\dimen0 = #1pt
	\dimen0 = 4\dimen0
	\hskip \dimen0 \relax}
\def\codetexNewline {\par}
\def\bold #1 {{\bf #1}}
\def\cyan #1 {{\localcolor \Cyan #1}}
\def\grey #1 {{\localcolor \Grey #1}}
\def\yellow #1 {{\localcolor \Yellow #1}}
\def\red #1 {{\localcolor \Red #1}}
\def\blue #1 {{\localcolor \Blue #1}}
%%%%%%%% Zde začíná "oblast definic" pro tento dokument %%%%%%%%%%%

\newcount\itemnum                % deklarace počítadla odrážek
\def\White{\pdfliteral{1 g}}     % bíla barva pomocí PDF low level příkazu
\def\Black{\pdfliteral{0 g}}     % černá barva
\def\Red{\pdfliteral{1 0 0 rg}}  % červená

\chyph             % inicializace českého dělení slov v csplainu
\input chelvet             % použité písmo: helvetica i v matematice
\font\titulfont=\fontname\tenbf\space scaled \magstep1  % větší font
\newdimen\indskip \indskip=15pt % výčty budou odsazeny 15pt
\def\ctverecek#1{\noindent      % čtvereček proměnné velikosti
   \hbox to\indskip{\vrule height#1pt depth0pt width#1pt\hss}}
\def\bod{\par\hangindent=\indskip \advance\itemnum by1 
   \indent \lower2pt\rlap{\Red\ctverecek{12}}%
   \hbox to12pt{\hss\White\the\itemnum\Black\hss}\kern3pt}  % definice zkratky \bod
\def\nadpis#1\par{          % definice nadpisu:
   \removelastskip\bigskip  %   odmaže poslední vert.mezeru a přidá vlastní
   \Red\ctverecek{7}{\titulfont #1\Black} % nadpis odsazený čtverečkem
   \par\nobreak}            %   konec řádku, zakázaný zlom, žádná mezera
\parskip=\medskipamount     % mezi odstavci bude mezera jako \medskip
\parindent=0pt              % odstavce nebudou odsazeny zarážkou
\let\itemskip=\relax        % žádné další mezery mezi výčty

%%%%%%%% Zde začíná "vlastní text" dokumentu %%%%%%%%%%%%%%%%%%%%%%%%

\nadpis Můj první dokument

Zkouším napsat první text v~\TeX u. Tento odstavec musí být
tak dlouhý, aby bylo vidět, že se rozlomil aspoň na dva řádky.

Jednotlivé odstavce oddělujeme od sebe prázdným řádkem. Prázdnými řádky
vůbec nešetříme, protože zvyšují přehlednost zdrojového textu.
Vyzkoušíme si nyní několik věcí.

\codetexNewline
\typosize[8/0]
\codetexSpace{0} \# \$ \% \& $\backslash$ \^ \_ $\{$ $\}$  $<$ $>$ \~\codetexNewline
\codetexSpace{0} {\bf {\localcolor \Blue public}} {\bf {\localcolor \Blue class}} InputFile $\{$\codetexNewline
\codetexSpace{4} Logger logger = Logger.getLogger({\localcolor \Yellow "InputFile"});\codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue final}} {\bf {\localcolor \Blue static}} Charset ENCODING = StandardCharsets.UTF\_8;\codetexNewline
\codetexSpace{4} \codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue private}} String fileName = {\localcolor \Yellow ""};\codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue private}} Path path;\codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue private}} BufferedReader reader = null;\codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue private}} {\bf {\localcolor \Blue boolean}} end = false;\codetexNewline
\codetexSpace{4} \codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue public}} InputFile(String fileName) {\bf {\localcolor \Blue throws}} IOException $\{$\codetexNewline
\codetexSpace{8} logger.debug({\localcolor \Yellow "Openning file in constructor..."});\codetexNewline
\codetexSpace{8} {\bf {\localcolor \Blue this}}.fileName = fileName;\codetexNewline
\codetexSpace{8} {\bf {\localcolor \Blue this}}.path=Paths.get({\bf {\localcolor \Blue this}}.fileName);\codetexNewline
\codetexSpace{8} reader=Files.newBufferedReader( path, ENCODING );\codetexNewline
\codetexSpace{8} $\}$\codetexNewline
\codetexSpace{4} \codetexNewline
\codetexSpace{4} {\localcolor \Grey /**\codetexNewline}
{\localcolor \Grey \codetexSpace{4} * Read one line from file.\codetexNewline}
{\localcolor \Grey \codetexSpace{4} *\codetexNewline}
{\localcolor \Grey \codetexSpace{4} * @{\bf {\localcolor \Blue return}} String filled with one line.\codetexNewline}
{\localcolor \Grey \codetexSpace{4} */}\codetexNewline
\codetexSpace{4} {\bf {\localcolor \Blue public}} String readLine() $\{$\codetexNewline
\codetexSpace{8} logger.debug({\localcolor \Yellow "Reading line. End="} + end);\codetexNewline
\codetexSpace{8} String line = null;\codetexNewline
\codetexSpace{8} \codetexNewline
\codetexSpace{8} {\bf {\localcolor \Blue try}} $\{$ {\localcolor \Grey /* Nějak vnoženy\codetexNewline}
{\localcolor \Grey \codetexSpace{12} komentar */} Sad\codetexNewline
\codetexSpace{12} {\bf {\localcolor \Blue if}} (!end) $\{$\codetexNewline
\codetexSpace{16} line = reader.readLine();\codetexNewline
\codetexSpace{16} $\}$\codetexNewline
\codetexSpace{12} $\}$ {\bf {\localcolor \Blue catch}} (IOException e) $\{$\codetexNewline
\codetexSpace{12} logger.error({\localcolor \Yellow "Could not read line. "} + e);\codetexNewline
\codetexSpace{12} e.printStackTrace(); {\localcolor \Grey // Line comment test\codetexNewline}
\codetexSpace{12} $\}$\codetexNewline
\codetexSpace{8} \codetexNewline
\codetexSpace{8} if(line == null) $\{$\codetexNewline
\codetexSpace{12} end = true;\codetexNewline
\codetexSpace{12} $\}$\codetexNewline
\codetexSpace{8} \codetexNewline
\codetexSpace{8} {\bf {\localcolor \Blue return}} line;\codetexNewline
\codetexSpace{8} $\}$\codetexNewline
\codetexSpace{4} $\}$\codetexNewline
\typosize[12/] \codetexNewline

\itemskip
\bod Budeme používat české \uv{uvozovky}, které se liší od ``anglických''.
     Uvědomíme si, že použití "těchto znaků" je úplně špatně!
\bod Je rozdíl mezi spojovníkem (je-li), pomlčkou ve větě~--
     a dlouhou pomlčkou---ta se používá v~anglických dokumentech.
\bod Předpokládáme, že každý dokáže rozeznat 1 (jedničku) od l
     (písmene el) a 0 (nulu) od O (písmene~O).
\bod Zkusíme přepnout do {\bf polotučného písma}, nebo do
     {\it kurzívy}. Také vyzkoušíme {\tt strojopis}.
\bod Všimneme si, že ve slovech grafika, firma, apod. se písmena
     f a i automaticky proměnila v~jediný znak fi (srovnáme to
     s~nesprávným f\/i).
\bod Mezery mezi písmeny jsou automaticky vyrovnávány podle tvaru písmen.
     Ve slově \uv{Tento} je například písmeno~e těsněji přisazeno
     k~písmenu~T, aby se mezery mezi písmeny opticky jevily stejnoměrné.
\bod Vypravíme se na malou exkurzi do matematiky: $a^2 + b^2 = c^2$.
     Zjistíme, že číslo -1 je zde napsáno špatně (prokletý spojovník),
     zatímco správně má být~$-1$.
\bod Protože \% uvozuje komentář a \$ přepíná do matematické sazby,
     musíme před ně napsat zpětné lomítko, chceme-li je dostat do dokumentu.
\itemskip

\nadpis Závěr

To by pro začátek stačilo. Příkazem {\tt\char`\\bye} ukončíme své pokusy.
\bye

